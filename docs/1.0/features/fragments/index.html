<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apollo Angular - GraphQL Client by The Guild Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apollo Angular - GraphQL Client by The Guild Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-YCYYF9JKLZ","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YCYYF9JKLZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-YCYYF9JKLZ",{})</script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900&display=swap"><title data-react-helmet="true">Using Fragments | Apollo Angular - GraphQL Client by The Guild</title><meta data-react-helmet="true" property="og:image" content="https://apollo-angular.com/img/cover.png"><meta data-react-helmet="true" name="twitter:image" content="https://apollo-angular.com/img/cover.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://apollo-angular.com/docs/1.0/features/fragments"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-1.0"><meta data-react-helmet="true" property="og:title" content="Using Fragments | Apollo Angular - GraphQL Client by The Guild"><meta data-react-helmet="true" name="description" content="A GraphQL fragment is a shared piece of query logic."><meta data-react-helmet="true" property="og:description" content="A GraphQL fragment is a shared piece of query logic."><link data-react-helmet="true" rel="shortcut icon" href="/img/logo/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://apollo-angular.com/docs/1.0/features/fragments"><link data-react-helmet="true" rel="alternate" href="https://apollo-angular.com/docs/1.0/features/fragments" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apollo-angular.com/docs/1.0/features/fragments" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.96db0ffa.css">
<link rel="preload" href="/assets/js/styles.773c627c.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.d7bec0a1.js" as="script">
<link rel="preload" href="/assets/js/main.3195cba6.js" as="script">
<link rel="preload" href="/assets/js/1.39474f86.js" as="script">
<link rel="preload" href="/assets/js/3.c8e82403.js" as="script">
<link rel="preload" href="/assets/js/128.82f883d2.js" as="script">
<link rel="preload" href="/assets/js/129.c8493f5f.js" as="script">
<link rel="preload" href="/assets/js/352e0155.82d4a070.js" as="script">
<link rel="preload" href="/assets/js/17896441.b96838ef.js" as="script">
<link rel="preload" href="/assets/js/074add36.6231fb70.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><strong class="navbar__title">Apollo Angular</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/1.0/index">1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/">v3</a></li><li><a class="dropdown__link" href="/docs/2.0/">2.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/1.0/features/fragments">1.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">API &amp; Documentation</a><a href="https://github.com/kamilkisiela/apollo-angular" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://the-guild.dev/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">Apollo Angular</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">v3</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/2.0/">2.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/1.0/features/fragments">1.0</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs">API &amp; Documentation</a></li><li class="menu__list-item"><a href="https://github.com/kamilkisiela/apollo-angular" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://the-guild.dev/contact" target="_blank" rel="noopener noreferrer" class="menu__link">Support</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/index">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/migration">Migration Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/basics/setup">Setup and options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/basics/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/basics/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/basics/services">Query, Mutation, Subscription services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/basics/network-layer">Network layer (Apollo Link)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/basics/caching">Apollo Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/basics/local-state">Local state management</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/caching">Direct Cache Access</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/optimistic-ui">Optimistic UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/cache-updates">Updating the Store</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/1.0/features/fragments">Using Fragments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/subscriptions">Subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/nativescript">Integrating with NativeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/multiple-clients">Multiple clients</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0/features/static-typing">Static Typing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/guides/state-management">State management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/guides/testing">Testing Apollo in Angular</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/guides/tools-and-packages">Tools and Packages</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/simple-example">Small Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/query-splitting">Query Splitting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/pagination">Pagination</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/prefetching">Prefetching data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/server-side-rendering">Server Side Rendering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/webpack">Webpack loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/meteor">Meteor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/angular-cli">Angular CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/1.0/recipes/boost-migration">Apollo Angular Boost migration</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Apollo Angular - GraphQL Client by The Guild <strong>1.0</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/">latest version</a></strong> (v3).</div></div><div class="docItemContainer_oiyr"><article><div><span class="badge badge--secondary">Version: 1.0</span></div><header><h1 class="docTitle_-X99">Using Fragments</h1></header><div class="markdown"><p>A <a href="http://graphql.org/learn/queries/#fragments" target="_blank" rel="noopener noreferrer">GraphQL fragment</a> is a shared piece of query logic.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><div tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">fragment</span><span class="token plain"> </span><span class="token fragment function" style="color:#d73a49">NameParts</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">firstName</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">lastName</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">query</span><span class="token plain"> </span><span class="token definition-query function" style="color:#d73a49">getPerson</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property-query">people</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;7&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">...</span><span class="token fragment function" style="color:#d73a49">NameParts</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property-query">avatar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token attr-name" style="color:#00a4db">size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">LARGE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>There are two principal uses for fragments in Apollo:</p><ul><li>Sharing fields between multiple queries, mutations or subscriptions.</li><li>Breaking your queries up to allow you to co-locate field access with the places they are used.</li></ul><p>In this document we&#x27;ll outline patterns to do both; we&#x27;ll also make use of utilities in the <a href="https://github.com/apollographql/apollo-client" target="_blank" rel="noopener noreferrer"><code>graphql-anywhere</code></a> and <a href="https://github.com/apollographql/graphql-tag" target="_blank" rel="noopener noreferrer"><code>graphql-tag</code></a> packages which aim to help us, especially with the second problem.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="reusing-fragments"></a>Reusing Fragments<a class="hash-link" href="#reusing-fragments" title="Direct link to heading">#</a></h2><p>The most straightforward use of fragments is to reuse parts of queries (or mutations or subscriptions) in various parts of your application. For instance, in GitHunt on the comments page, we want to fetch the same fields after posting a comment as we originally query. This way we can be sure that we render consistent comment objects as the data changes.</p><p>To do so, we can simply share a fragment describing the fields we need for a comment:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><div tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">gql</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;graphql-tag&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">CommentsPage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">fragments</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">comment</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">fragment</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql fragment function" style="color:#d73a49">CommentsPageComment</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">on</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql class-name">Comment</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">id</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql object">postedBy</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">login</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">html_url</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">createdAt</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">content</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>We put the fragment on <code>CommentsPage.fragments.comment</code> by convention, and use the familiar <code>gql</code> helper to create it.</p><p>When it&#x27;s time to embed the fragment in a query, we simply use the <code>...Name</code> syntax in our GraphQL, and embed the fragment inside our query GraphQL document:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ts"><div tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">SUBMIT_COMMENT_MUTATION</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">mutation</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql definition-mutation function" style="color:#d73a49">submitComment</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">(</span><span class="token template-string graphql language-graphql variable variable-input" style="color:#36acaa">$repoFullName</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql scalar">String</span><span class="token template-string graphql language-graphql operator" style="color:#393A34">!</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">,</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql variable variable-input" style="color:#36acaa">$commentContent</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql scalar">String</span><span class="token template-string graphql language-graphql operator" style="color:#393A34">!</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql property-query property-mutation">submitComment</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">(</span><span class="token template-string graphql language-graphql attr-name" style="color:#00a4db">repoFullName</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql variable variable-input" style="color:#36acaa">$repoFullName</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">,</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql attr-name" style="color:#00a4db">commentContent</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql variable variable-input" style="color:#36acaa">$commentContent</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql operator" style="color:#393A34">...</span><span class="token template-string graphql language-graphql fragment function" style="color:#d73a49">CommentsPageComment</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string graphql language-graphql property interpolation maybe-class-name" style="color:#36acaa">CommentsPage</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">fragments</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">comment</span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql"></span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">COMMENT_QUERY</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">query</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql definition-query function" style="color:#d73a49">Comment</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">(</span><span class="token template-string graphql language-graphql variable" style="color:#36acaa">$repoName</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql scalar">String</span><span class="token template-string graphql language-graphql operator" style="color:#393A34">!</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql comment" style="color:#999988;font-style:italic"># ...</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql property-query">entry</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">(</span><span class="token template-string graphql language-graphql attr-name" style="color:#00a4db">repoFullName</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql variable" style="color:#36acaa">$repoName</span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql comment" style="color:#999988;font-style:italic"># ...</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql object">comments</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql operator" style="color:#393A34">...</span><span class="token template-string graphql language-graphql fragment function" style="color:#d73a49">CommentsPageComment</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql comment" style="color:#999988;font-style:italic"># ...</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string graphql language-graphql property interpolation maybe-class-name" style="color:#36acaa">CommentsPage</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">fragments</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">comment</span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql"></span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="colocating-fragments"></a>Colocating Fragments<a class="hash-link" href="#colocating-fragments" title="Direct link to heading">#</a></h2><p>A key advantage of GraphQL is the tree-like nature of the response data, which in many cases mirrors your rendered component hierarchy. This, combined with GraphQL&#x27;s support for fragments, allows you to split your queries up in such a way that the various fields fetched by the queries are located right alongside the code that uses the field.</p><p>Although this technique doesn&#x27;t always make sense (for instance it&#x27;s not always the case that the GraphQL schema is driven by the UI requirements), when it does, it&#x27;s possible to use some patterns in Apollo client to take full advantage of it.</p><p>Imagine this view hierarchy:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><div tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">FeedPage</span></div><div class="token-line" style="color:#393A34"><span class="token plain">└── Feed</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    └── FeedEntry</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        ├── RepoInfo</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        └── VoteButtons</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The <code>FeedPage</code> conducts a query to fetch a list of <code>Entry</code>s, and each of the subcomponents requires different subfields of each <code>Entry</code>.</p><p>The <code>graphql-anywhere</code> package gives us tools to easily construct a single query that provides all the fields that each subcomponent needs, and allows to easily pass the exact field that a component needs to it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="creating-fragments"></a>Creating Fragments<a class="hash-link" href="#creating-fragments" title="Direct link to heading">#</a></h3><p>To create the fragments, we again use the <code>gql</code> helper and attach to subfields of <code>ComponentClass.fragments</code>, for example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><div tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">VoteButtons</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">fragments</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">entry</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">fragment</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql fragment function" style="color:#d73a49">VoteButtons</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">on</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql class-name">Entry</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">score</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql object">vote</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">vote_value</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If our fragments include sub-fragments then we can pass them into the <code>gql</code> helper:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><div tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">FeedEntry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">fragments</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">entry</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">fragment</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql fragment function" style="color:#d73a49">FeedEntry</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql keyword" style="color:#00009f">on</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql class-name">Entry</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">commentCount</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql object">repository</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">full_name</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">html_url</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql object">owner</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">{</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">          </span><span class="token template-string graphql language-graphql property" style="color:#36acaa">avatar_url</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql operator" style="color:#393A34">...</span><span class="token template-string graphql language-graphql fragment function" style="color:#d73a49">VoteButtons</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">      </span><span class="token template-string graphql language-graphql operator" style="color:#393A34">...</span><span class="token template-string graphql language-graphql fragment function" style="color:#d73a49">RepoInfo</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string graphql language-graphql property interpolation maybe-class-name" style="color:#36acaa">VoteButtons</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">fragments</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">entry</span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string graphql language-graphql property interpolation maybe-class-name" style="color:#36acaa">RepoInfo</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">fragments</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#393A34">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#36acaa">entry</span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string graphql language-graphql"></span></div><div class="token-line" style="color:#393A34"><span class="token template-string graphql language-graphql">  </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="filtering-with-fragments"></a>Filtering With Fragments<a class="hash-link" href="#filtering-with-fragments" title="Direct link to heading">#</a></h3><p>We can also use the <code>graphql-anywhere</code> package to filter the exact fields from the <code>entry</code> before passing them to the subcomponent. So when we render a <code>VoteButtons</code>, we can simply do:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> filter </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;graphql-anywhere&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">VoteButtons</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">entry</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript function" style="color:#d73a49">filter</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript maybe-class-name" style="color:#00009f">VoteButtons</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">fragments</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">entry</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"> entry</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">canVote</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">loggedIn</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">onVote</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript parameter" style="color:#00009f">type</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript function" style="color:#d73a49">onVote</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">    </span><span class="token tag script language-javascript literal-property property" style="color:#36acaa">repoFullName</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> full_name</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">    type</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">  </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span></div><div class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The <code>filter()</code> function will grab exactly the fields from the <code>entry</code> that the fragment defines.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="importing-fragments-when-using-webpack"></a>Importing fragments when using Webpack<a class="hash-link" href="#importing-fragments-when-using-webpack" title="Direct link to heading">#</a></h3><p>When loading <code>.graphql</code> files with <a href="https://github.com/apollographql/graphql-tag/blob/master/loader.js" target="_blank" rel="noopener noreferrer">graphql-tag/loader</a>, we can include fragments using <code>import</code> statements. For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><div tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#import &quot;./someFragment.graphql&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Will make the contents of <code>someFragment.graphql</code> available to the current file. See the <a href="/docs/1.0/recipes/webpack#fragments">Webpack Fragments</a> section for additional details.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/kamilkisiela/apollo-angular/edit/master/website/versioned_docs/version-1.0/features/fragments.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/1.0/features/cache-updates"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Updating the Store</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/1.0/features/subscriptions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Subscriptions »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reusing-fragments" class="table-of-contents__link">Reusing Fragments</a></li><li><a href="#colocating-fragments" class="table-of-contents__link">Colocating Fragments</a><ul><li><a href="#creating-fragments" class="table-of-contents__link">Creating Fragments</a></li><li><a href="#filtering-with-fragments" class="table-of-contents__link">Filtering With Fragments</a></li><li><a href="#importing-fragments-when-using-webpack" class="table-of-contents__link">Importing fragments when using Webpack</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/data/queries">Fetching</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/local-state/management">Local State</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/xud7bH9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://the-guild.dev/open-source" target="_blank" rel="noopener noreferrer" class="footer__link-item">Other projects</a></li><li class="footer__item"><a href="https://the-guild.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">About us</a></li><li class="footer__item"><a href="https://github.com/the-guild-org/community-meetings" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Meetings</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://the-guild.dev/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/kamilkisiela/apollo-angular" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/kamilkisiela" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/the-guild-software" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Kamil Kisiela. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/styles.773c627c.js"></script>
<script src="/assets/js/runtime~main.d7bec0a1.js"></script>
<script src="/assets/js/main.3195cba6.js"></script>
<script src="/assets/js/1.39474f86.js"></script>
<script src="/assets/js/3.c8e82403.js"></script>
<script src="/assets/js/128.82f883d2.js"></script>
<script src="/assets/js/129.c8493f5f.js"></script>
<script src="/assets/js/352e0155.82d4a070.js"></script>
<script src="/assets/js/17896441.b96838ef.js"></script>
<script src="/assets/js/074add36.6231fb70.js"></script>
</body>
</html>